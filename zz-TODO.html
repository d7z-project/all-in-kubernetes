<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>任务列表 &amp; 贡献者指南</title>
<style>
@import url(https://fonts.googleapis.com/css?family=Noto+Sans);
@import url(https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css); /* Default asciidoc style framework - important */

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>任务列表 &amp; 贡献者指南</h1>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel1">
<li><a href="#_贡献者指南">贡献者指南</a>
<ul class="sectlevel2">
<li><a href="#_文档编写指南">文档编写指南</a></li>
<li><a href="#_注意事项">注意事项</a></li>
</ul>
</li>
<li><a href="#_任务列表">任务列表</a>
<ul class="sectlevel2">
<li><a href="#_环境介绍">环境介绍</a></li>
<li><a href="#_组件部署">组件部署</a>
<ul class="sectlevel3">
<li><a href="#_底层组件">底层组件</a></li>
<li><a href="#_核心组件_core_system">核心组件 (core-system)</a></li>
<li><a href="#_核心中间件_core_middleware">核心中间件 (core-middleware)</a></li>
<li><a href="#_核心应用_core_app">核心应用 (core-app)</a></li>
<li><a href="#_扩展应用_share_app">扩展应用 (share-app)</a></li>
<li><a href="#_集群监控_monitor_app">集群监控 (monitor-app)</a></li>
</ul>
</li>
<li><a href="#_自动化部署测试">自动化部署测试</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_贡献者指南">贡献者指南</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_文档编写指南">文档编写指南</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>所有文档需使用 <a target="_blank" href="https://asciidoc.org/">AsciiDoc</a> 编写。</p>
</li>
<li>
<p>对于代码引用需单独保存至文件，并使用 <code>include::path/to/file[]</code> 引入。</p>
</li>
<li>
<p>过长的代码块需要用折叠块折叠。</p>
</li>
<li>
<p>所有文档均需要有简单的测试说明。</p>
</li>
<li>
<p>对于引用他人文档需注意版权问题，且需要在文档末尾注明引用来源。</p>
</li>
<li>
<p>编写的文档需要在 <code>zz-MENU.adoc</code> 内存在引用菜单。</p>
</li>
<li>
<p>文档命名需按照部署流程排序: <code>00 - zz</code> 。</p>
</li>
<li>
<p>如果需要拉取镜像则需要在文档内注明所需的镜像地址，方便读者离线部署。</p>
</li>
<li>
<p>所有从网络加载的 <code>kubernetes</code> 的  <code>yaml</code> 配置文件均需在本地留有备份 （仅可修改 namespace）。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_注意事项">注意事项</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>请 <strong>不要使用任何闭源的软件或镜像</strong>。</p>
</li>
<li>
<p>所有组件除特殊说明的除外均为单实例部署，系统内所有账户尽量采用LDAP来统一管理。</p>
</li>
<li>
<p>避免使用 <code>bitnami</code> 打包的镜像。</p>
</li>
<li>
<p>对于 Java 相关的应用部署，需避免引入带 <a target="_blank" href="https://www.cve.org/CVERecord?id=CVE-2021-44228">Log4Shell</a> 漏洞的镜像。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_任务列表">任务列表</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_环境介绍">环境介绍</h3>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <a href="./zz-document/other/HARDWARE_INFO.html">介绍物理机环境</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="./zz-document/other/HARDWARE_INFO.html">介绍部署机器环境</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_组件部署">组件部署</h3>
<div class="sect3">
<h4 id="_底层组件">底层组件</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 安装 Kubernetes(google)/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 初始化部署环境</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 安装 <code>containerd</code></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 安装 <code>kubeadm</code></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署控制节点</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 配置CNI 插件</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署工作节点</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-square-o"></i> 安装 Kubernetes(k3s)/验证</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 配置 共享存储(rook-nfs)/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 共享 <code>/share</code></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 创建 NFS Server</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 测试</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 配置 共享存储(nfs-ganesha)/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 共享 <code>/share</code></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 创建 NFS Server</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 测试</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 LoadBalancer实现(metallb)/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 部署LoadBalancer</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 分配IP池</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 验证LoadBalancer</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 Ingress(Nginx)/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 部署 Ingress(Nginx)</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 测试 Ingress(Nginx)</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 Cert-Manager/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 导入资源</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 测试 CertManager</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_核心组件_core_system">核心组件 (core-system)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 部署 OpenLDAP/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 导入配置</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 创建PVC</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 安装 OpenLDAP</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 添加 MemberOf 支持</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 验证</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 ldap-account-manager/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 部署 APP</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 Service</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 Ingress</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 验证</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 Velero</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_核心中间件_core_middleware">核心中间件 (core-middleware)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 部署 MariaDB/验证</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 创建PVC</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 创建服务及绑定</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 测试部署</p>
</li>
</ul>
</div>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 Redis/验证</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 PostgresSQL/验证</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 部署 ElasticSearch/验证</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_核心应用_core_app">核心应用 (core-app)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> 部署 Nexus3/验证</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 Gitlab/验证</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_扩展应用_share_app">扩展应用 (share-app)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> 部署 Gitlab-Runner/验证</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 Jellyfin/验证</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 V2ray/验证</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_集群监控_monitor_app">集群监控 (monitor-app)</h4>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> 部署 Prometheus/验证</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 AlertManager/验证</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 Grafana/验证</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 部署 NodeExporter/验证</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_自动化部署测试">自动化部署测试</h3>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> 使用 Gitlab Actions 做自动化测试</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> 使用 Gitlab Runner 做自动化测试</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="custom-content">
    <style>
        .custom-footer {
            margin: 0;
            padding: 20px;
            background: #555555;
            color: white;
        }

        .custom-footer a {
            color: white;
        }
    </style>
    <p class="custom-footer">
        最后编辑于 2022年07月19日 22时08分12秒 |
        <a target="_blank"
           href="https://github.com/d7z-project/all-in-kubernetes/tree/bf0421eac7c16eb1b8dd78be7e794cb724831993//zz-TODO.adoc">查看源码</a> |
        <a href="https://github.com/d7z-project/all-in-kubernetes/tree/bf0421eac7c16eb1b8dd78be7e794cb724831993/"
            target="_blank">#b8fc56b</a>
</div>
</body>
</html>
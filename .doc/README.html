<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Asciidoc HTML 文档生成器</title>
<style>
@import url(//fonts.googleapis.com/css?family=Noto+Sans);
@import url(https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css); /* Default asciidoc style framework - important */

</style>
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Asciidoc HTML 文档生成器</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_入门">入门</a>
<ul class="sectlevel2">
<li><a href="#_引入依赖">引入依赖</a></li>
<li><a href="#_编辑配置文件">编辑配置文件</a></li>
<li><a href="#_创建_github_action">创建 Github Action</a></li>
</ul>
</li>
<li><a href="#_license">LICENSE</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Dragon&#8217;s Zone Team 专用的 HTML 文档生成器</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_入门">入门</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_引入依赖">引入依赖</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git submodule add https://github.com/d7z-team/asciidoc-static-pages .doc
git submodule update
git submodule update --init
git submodule update --remote
git add .doc
git commit -m "doc:添加在线文档支持"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_编辑配置文件">编辑配置文件</h3>
<div class="paragraph">
<p>在文档根目录编辑文件 <code>.env</code> ，填入以下配置</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># 项目主页
HOME_URL="http://github.com/d7z-project/all-in-kubernetes"
# 项目标题
DOC_TITLE="All In Kubernetes"
# 编译输出路径
DOC_OUTPUT_PATH=/build
# 菜单文档
DOC_MENU=/zz-MENU.adoc
# 主页文档
DOC_MAIN=/MAIN.adoc
# 源码路径地址
DOC_SOURCE_URL='https://github.com/d7z-project/all-in-kubernetes/tree/8eddb70091f31ddac22e13f047b56fad35e9cdc6/'
# 图标
DOC_ICON_FILE_PATH=/assets/icon/logo.svg
# 自定义 CSS 样式
# DOC_THEME=dark.css</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_创建_github_action">创建 Github Action</h3>
<div class="paragraph">
<p>编辑文件 <code>.github/workflows/gh-pages.yml</code>，填入以下内容</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">name: GitHub Pages

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  deploy:
    runs-on: ubuntu-20.04
    permissions:
      contents: write
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true
          fetch-depth: 0
      - name: 编译项目
        run: |
          chmod +x ./.doc/doc.sh
          sudo ./.doc/doc.sh toolchain
          # 此处配置文档的根目录，如果在项目根目录则无需操作
          ./.doc/doc.sh build `pwd`
      - name: 发布 Web 页面
        uses: peaceiris/actions-gh-pages@v3
        if: ${{ github.ref == 'refs/heads/main' }}
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./build</code></pre>
</div>
</div>
<div class="paragraph">
<p>最后提交即可。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_license">LICENSE</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>注意：</strong> AsciiDoc 归属于 <a target="_blank" href="https://www.eclipse.org/org/">Eclipse Foundation</a>，此项目使用 <code>asciidoctor</code> 命令渲染 <code>.adoc</code> 文件。</p>
</div>
<div class="paragraph">
<p>如无其他说明，此项目使用 <strong>MIT License</strong> 发布。</p>
</div>
</div>
</div>
</div>
<div class="custom-content">
    <style>
        .custom-footer {
            margin: 0;
            padding: 20px;
            background: #555555;
            color: white;
        }

        .custom-footer a {
            color: white;
        }
    </style>
    <p class="custom-footer">
        最后编辑于  |
        <a target="_blank"
           href="https://github.com/d7z-project/all-in-kubernetes/tree/8eddb70091f31ddac22e13f047b56fad35e9cdc6//.doc/README.adoc">查看源码</a> |
        <a href="https://github.com/d7z-project/all-in-kubernetes/tree/8eddb70091f31ddac22e13f047b56fad35e9cdc6/"
            target="_blank">#</a>
</div>
</body>
</html>